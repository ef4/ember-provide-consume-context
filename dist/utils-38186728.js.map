{"version":3,"file":"utils-38186728.js","sources":["../src/-private/utils.ts"],"sourcesContent":["import { getOwner } from '@ember/owner';\nimport type ContextRegistry from '../context-registry';\n\n// TODO: See if we can type the owner\nexport function getProvider(owner: any, contextKey: keyof ContextRegistry) {\n  const renderer = getOwner(owner)?.lookup('renderer:-dom') as any;\n\n  if (renderer == null) {\n    return null;\n  }\n\n  const provideConsumeContextContainer =\n    renderer._runtime?.env?.provideConsumeContextContainer;\n\n  if (provideConsumeContextContainer == null) {\n    return null;\n  }\n\n  const contextsObject = provideConsumeContextContainer.contexts.get(owner);\n  return contextsObject?.[contextKey];\n}\n\nexport function hasContext(owner: any, contextKey: keyof ContextRegistry) {\n  const provider = getProvider(owner, contextKey);\n  return provider != null;\n}\n\nexport function getContextValue<K extends keyof ContextRegistry>(\n  owner: any,\n  contextKey: K,\n): ContextRegistry[K] | undefined {\n  if (!hasContext(owner, contextKey)) {\n    return undefined;\n  }\n  const providerObj = getProvider(owner, contextKey);\n  return providerObj.instance[providerObj.key];\n}\n"],"names":["getProvider","owner","contextKey","renderer","getOwner","lookup","provideConsumeContextContainer","_runtime","env","contextsObject","contexts","get","hasContext","provider","getContextValue","undefined","providerObj","instance","key"],"mappings":";;AAGA;AACO,SAASA,WAAWA,CAACC,KAAU,EAAEC,UAAiC,EAAE;EACzE,MAAMC,QAAQ,GAAGC,QAAQ,CAACH,KAAK,CAAC,EAAEI,MAAM,CAAC,eAAe,CAAQ,CAAA;EAEhE,IAAIF,QAAQ,IAAI,IAAI,EAAE;AACpB,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;EAEA,MAAMG,8BAA8B,GAClCH,QAAQ,CAACI,QAAQ,EAAEC,GAAG,EAAEF,8BAA8B,CAAA;EAExD,IAAIA,8BAA8B,IAAI,IAAI,EAAE;AAC1C,IAAA,OAAO,IAAI,CAAA;AACb,GAAA;EAEA,MAAMG,cAAc,GAAGH,8BAA8B,CAACI,QAAQ,CAACC,GAAG,CAACV,KAAK,CAAC,CAAA;EACzE,OAAOQ,cAAc,GAAGP,UAAU,CAAC,CAAA;AACrC,CAAA;AAEO,SAASU,UAAUA,CAACX,KAAU,EAAEC,UAAiC,EAAE;AACxE,EAAA,MAAMW,QAAQ,GAAGb,WAAW,CAACC,KAAK,EAAEC,UAAU,CAAC,CAAA;EAC/C,OAAOW,QAAQ,IAAI,IAAI,CAAA;AACzB,CAAA;AAEO,SAASC,eAAeA,CAC7Bb,KAAU,EACVC,UAAa,EACmB;AAChC,EAAA,IAAI,CAACU,UAAU,CAACX,KAAK,EAAEC,UAAU,CAAC,EAAE;AAClC,IAAA,OAAOa,SAAS,CAAA;AAClB,GAAA;AACA,EAAA,MAAMC,WAAW,GAAGhB,WAAW,CAACC,KAAK,EAAEC,UAAU,CAAC,CAAA;AAClD,EAAA,OAAOc,WAAW,CAACC,QAAQ,CAACD,WAAW,CAACE,GAAG,CAAC,CAAA;AAC9C;;;;"}